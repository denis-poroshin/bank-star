<h2>1. Содержание проекта</h2>

1.1 Проект Банк Звезда предназначен для предоставления рекомендаций продукции пользователю в зависимости от использования ранее услуг. Стек технологий: Spring, PostgreSQL, Swagger, JDBS, JPA, Hibernate, Telegram bot.

<h2>2. Архитектура приложения</h2>

2.1 Диаграмма springbankstar, которая находится в корне проекта представляет собой архитектуру проекта. В контроллерах мы принимаем данные для обработки. 

2.2 Контроллер RecommendationController принимает id пользователя для выдачи ему рекомендации продуктов. Этот контроллер передает в сервис  RecommendationService id пользователя. Этот сервис обращается к двум репозиториям RecommendationsRepository и Dynamic RecommendationsRepository  в которых составляется SQL запросы для выгрузки продуктов для пользователя с определенным id. В RecommendationsRepository формируются предложения для пользователя с жестко зафиксированными правилами, а  в DynamicRecommendationsRepository формируются запросы с гибко настраиваемыми.   В Dynamic RecommendationsRepository идет обращение в CreateSql в кортом собирается SQL запрос это было сделано, чтобы разграничить логику по отбору данных в репозитории и формирование самого SQL запроса. В RecommendationService собираются данные из репозиториев и отдаются в формате преложений.

2.3 Контроллер RecommendationRulesController  в котором производятся CRUD операции по созданию, удалению и получению правил для формирования продукта с динамическими правилами в DynamicRecommendationsRepository. Данные храниться в базе данных. Для этого были реализован entity Rules.

2.4 Контроллер TotalRuleController выдает список правил для формирования динамических правил и количество их применения для отслеживания статистики.  Подсчет количества вызываемых правил реализуется в CreateSql в котором как раз и собираются sql запросы.

Для реализации самого сервиса не только в web приложении был разработан telegram bot в котором мы можем узнать для какого пользователя будут релевантные продукты. Логика по отбору продуктов для пользователя была написана ранее т.к. теперь не обращаемся к контроллеру RecommendationController, а используем напрямую RecommendationService.

<h2>3. Развертывание приложения</h2>

Для развертывания приложения необходима база данных PostgreSQL и H2, среда разработки IntelliJ IDEA, java 17.

3.1 Необходимо клонировать приложение себе на ПК. Это можно сделать с помощью git. Открываем папку в которую хотим клонировать проект нажимаем правой кнопкой мышь на пустое место в папку и выбираем Open Git Bach here:
![image](https://github.com/user-attachments/assets/aa700235-8727-4c5f-b8ba-78601bfaf26d)

Откроется консоль в которой необходимо прописать (git clone https://github.com/denis-poroshin/bank-star.git):

![image](https://github.com/user-attachments/assets/a5ef9460-8cb9-4346-b5eb-c203f1470e44)

Ссылку проекта можно взять в git:

![image](https://github.com/user-attachments/assets/f1c121f7-411a-49bd-8e8f-005272b597e6)

После клонирования репозитория необходимо запустить среду разработки и открыть там файл.

После этого необходимо создать базу данных в PostgreSQL с названием bank-star, ролью employee и паролем qwer. Также все параметры по созданию базы данных можно поменять, но при этом не забыть поменять и в самом application.properties:

![image](https://github.com/user-attachments/assets/7208e51a-b764-4df6-a7a8-3fe20ae94bff)

<h2>Сборка проекта</h2>
В правом верхнем углу требуется нажать на букву m. В spring-bank-star требуется нажать на clean, а потом на package. Это сначала  очистит папку target, а потом соберет проект в jar фал.

![image](https://github.com/user-attachments/assets/bc1a002f-ce44-41b4-b89c-16a85237b3e6)











